"use strict";var main=window.main||{};main.ga=window.ga||function(){},$(document).ready(function(){function n(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alert-info";return $(".flashMessage").append($("\n      <div class='alert "+e+"'>\n        <button class='close' type='button', data-dismiss='alert'>\n          <span class='ion-close-circled' />\n        </Button>\n        <div>"+n+"</div>\n      </div>\n    "))}function e(){if(!main.userId)return n("You must be logged in to use our themes.");var e=document.getElementById("map-aside-frame"),t=$("body");e&&(e.src=e.src),t.hide();var o=void 0;t.hasClass("night")?(t.removeClass("night"),o="default"):(t.addClass("night"),o="night"),t.fadeIn("100");var i={url:"/api/users/"+main.userId+"/update-theme",type:"POST",data:{theme:o},dataType:"json"};return $.ajax(i).done(function(){return console.log("theme updated successfully")}).fail(function(e){var t=void 0;try{t=JSON.parse(e.responseText).error.message}catch(n){return null}return t?n(t):null})}var t=window.Rx.Observable;!function(n){jQuery.ajaxPrefilter(function(e,t,o){o.crossDomain||o.setRequestHeader("X-CSRF-Token",n)})}($('meta[name="csrf-token"]').attr("content")),$("img").on("error",function(){$(this).unbind("error").attr("src","https://s3.amazonaws.com/freecodecamp/camper-image-placeholder.png")}),$.each($(".sr-only"),function(n,e){" Complete"===$(e).text()&&$(e).parents("p").addClass("manip-hidden")}),t.merge(t.fromEvent($("#night-mode"),"click"),t.create(function(n){window.Mousetrap.bind("g t n",function(){return n.onNext()})})).debounce(500).subscribe(e,function(n){return console.error(n)}),window.Mousetrap.bind("g n n",function(){window.location="/challenges/next-challenge"}),window.Mousetrap.bind("g n m",function(){window.location="/map"}),window.Mousetrap.bind("g n a",function(){window.location="/about"}),window.Mousetrap.bind("g n s",function(){window.location="/shop"}),window.Mousetrap.bind("g n o",function(){window.location="/settings"}),window.Mousetrap.bind("g n r",function(){window.location="https://github.com/freecodecamp/freecodecamp/"}),function(){$.ajax({url:"/api/flyers/findOne",method:"GET",dataType:"JSON",data:{filter:{order:"id DESC"}}}).fail(function(n){return console.error(n)}).done(function(n){var e=localStorage.getItem("__flyerId__");n&&n.isActive&&e!==n.id&&($("#dismiss-bill").on("click",function(){localStorage.setItem("__flyerId__",n.id)}),$("#bill-content").html(n.message),$("#bill-board").fadeIn())})}()});